-- MySQL Script generated by MySQL Workbench
-- Tue Sep 30 17:33:01 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `mydb` ;

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8mb3 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`mk_address`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_address` (
  `AddressId` INT NOT NULL AUTO_INCREMENT,
  `Name` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`AddressId`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`mk_cities`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_cities` (
  `CitiesId` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL DEFAULT NULL,
  `Mk_Address_AddressId` INT NOT NULL,
  PRIMARY KEY (`CitiesId`),
  CONSTRAINT `fk_Mk_Cities_Mk_Address`
    FOREIGN KEY (`Mk_Address_AddressId`)
    REFERENCES `mydb`.`mk_address` (`AddressId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_Cities_Mk_Address1_idx` ON `mydb`.`mk_cities` (`Mk_Address_AddressId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_commerces`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_commerces` (
  `CommerceId` INT NOT NULL AUTO_INCREMENT,
  `CommerceName` VARCHAR(100) NOT NULL,
  `CommercePhone` VARCHAR(45) NULL DEFAULT NULL,
  `CommerceEmail` VARCHAR(120) NULL DEFAULT NULL,
  `Active` BIT(1) NOT NULL DEFAULT b'1',
  `Description` VARCHAR(255) NOT NULL,
  `Mk_Address_AddressId` INT NOT NULL,
  PRIMARY KEY (`CommerceId`),
  CONSTRAINT `fk_MK_Commerces_Mk_Address`
    FOREIGN KEY (`Mk_Address_AddressId`)
    REFERENCES `mydb`.`mk_address` (`AddressId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_MK_Commerces_Mk_Address1_idx` ON `mydb`.`mk_commerces` (`Mk_Address_AddressId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_users`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_users` (
  `UserID` INT NOT NULL AUTO_INCREMENT,
  `email` VARCHAR(120) NOT NULL,
  `FirstName` VARCHAR(50) NOT NULL,
  `LastName` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`UserID`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE UNIQUE INDEX `email_UNIQUE` ON `mydb`.`mk_users` (`email` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_contactinfouser`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_contactinfouser` (
  `contactInfoId` INT NOT NULL AUTO_INCREMENT,
  `value` VARCHAR(100) NULL DEFAULT NULL,
  `enabled` BIT(1) NULL DEFAULT NULL,
  `last_update` VARCHAR(45) NULL DEFAULT NULL,
  `Mk_Users_UserID` INT NOT NULL,
  PRIMARY KEY (`contactInfoId`),
  CONSTRAINT `fk_Mk_ContactInfoUser_Mk_Users`
    FOREIGN KEY (`Mk_Users_UserID`)
    REFERENCES `mydb`.`mk_users` (`UserID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_ContactInfoUser_Mk_Users1_idx` ON `mydb`.`mk_contactinfouser` (`Mk_Users_UserID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_estados`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_estados` (
  `EstadosId` INT NOT NULL AUTO_INCREMENT,
  `Name` VARCHAR(45) NULL DEFAULT NULL,
  `Mk_Cities_CitiesId` INT NOT NULL,
  PRIMARY KEY (`EstadosId`),
  CONSTRAINT `fk_Mk_Estados_Mk_Cities`
    FOREIGN KEY (`Mk_Cities_CitiesId`)
    REFERENCES `mydb`.`mk_cities` (`CitiesId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_Estados_Mk_Cities1_idx` ON `mydb`.`mk_estados` (`Mk_Cities_CitiesId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_countries`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_countries` (
  `CountriesId` INT NOT NULL AUTO_INCREMENT,
  `Name` VARCHAR(45) NULL DEFAULT NULL,
  `currencySimbol` VARCHAR(3) NULL DEFAULT NULL,
  `language` VARCHAR(7) NULL DEFAULT NULL,
  `curency` VARCHAR(30) NULL DEFAULT NULL,
  `Mk_Estados_EstadosId` INT NOT NULL,
  PRIMARY KEY (`CountriesId`),
  CONSTRAINT `fk_Mk_Countries_Mk_Estados`
    FOREIGN KEY (`Mk_Estados_EstadosId`)
    REFERENCES `mydb`.`mk_estados` (`EstadosId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_Countries_Mk_Estados1_idx` ON `mydb`.`mk_countries` (`Mk_Estados_EstadosId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_facturas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_facturas` (
  `FacturaID` INT NOT NULL AUTO_INCREMENT,
  `Fecha` DATETIME NOT NULL,
  `Total` DECIMAL(10,2) NOT NULL,
  `Mk_Users_UserID` INT NOT NULL,
  `MK_Commerces_CommerceId` INT NOT NULL,
  PRIMARY KEY (`FacturaID`),
  CONSTRAINT `fk_Facturas_Comercios`
    FOREIGN KEY (`MK_Commerces_CommerceId`)
    REFERENCES `mydb`.`mk_commerces` (`CommerceId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Facturas_Usuarios`
    FOREIGN KEY (`Mk_Users_UserID`)
    REFERENCES `mydb`.`mk_users` (`UserID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Facturas_Usuarios_idx` ON `mydb`.`mk_facturas` (`Mk_Users_UserID` ASC) VISIBLE;

CREATE INDEX `fk_Facturas_Comercios_idx` ON `mydb`.`mk_facturas` (`MK_Commerces_CommerceId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_products`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_products` (
  `ProductID` INT NOT NULL AUTO_INCREMENT,
  `ProductName` VARCHAR(100) NOT NULL,
  `Descripcion` VARCHAR(255) NOT NULL,
  `Precio` DECIMAL(10,2) NOT NULL DEFAULT '0.00',
  `MK_Commerces_CommerceId` INT NOT NULL,
  `Cantidad` INT NOT NULL DEFAULT '0',
  PRIMARY KEY (`ProductID`),
  CONSTRAINT `fk_MK_Products_MK_Commerces`
    FOREIGN KEY (`MK_Commerces_CommerceId`)
    REFERENCES `mydb`.`mk_commerces` (`CommerceId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_MK_Products_MK_Commerces1_idx` ON `mydb`.`mk_products` (`MK_Commerces_CommerceId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_detallefacturas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_detallefacturas` (
  `DetalleID` INT NOT NULL AUTO_INCREMENT,
  `Cantidad` INT NOT NULL,
  `PrecioUnitario` DECIMAL(10,2) NOT NULL,
  `Subtotal` DECIMAL(10,2) NOT NULL,
  `MK_Facturas_FacturaID` INT NOT NULL,
  `MK_Products_ProductID` INT NOT NULL,
  PRIMARY KEY (`DetalleID`),
  CONSTRAINT `fk_DetalleFacturas_Facturas`
    FOREIGN KEY (`MK_Facturas_FacturaID`)
    REFERENCES `mydb`.`mk_facturas` (`FacturaID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_DetalleFacturas_Productos`
    FOREIGN KEY (`MK_Products_ProductID`)
    REFERENCES `mydb`.`mk_products` (`ProductID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_DetalleFacturas_Facturas_idx` ON `mydb`.`mk_detallefacturas` (`MK_Facturas_FacturaID` ASC) VISIBLE;

CREATE INDEX `fk_DetalleFacturas_Productos_idx` ON `mydb`.`mk_detallefacturas` (`MK_Products_ProductID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_fonds`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_fonds` (
  `FondosId` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`FondosId`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`mk_traduccion`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_traduccion` (
  `TraduccionId` INT NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL DEFAULT NULL,
  `caption` VARCHAR(45) NULL DEFAULT NULL,
  `Enabled` BIT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`TraduccionId`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`mk_idiomas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_idiomas` (
  `idiomaId` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL,
  `culture` VARCHAR(45) NOT NULL,
  `Mk_Traduccion_TraduccionId` INT NOT NULL,
  PRIMARY KEY (`idiomaId`),
  CONSTRAINT `fk_Mk_idiomas_Mk_Traduccion`
    FOREIGN KEY (`Mk_Traduccion_TraduccionId`)
    REFERENCES `mydb`.`mk_traduccion` (`TraduccionId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_idiomas_Mk_Traduccion1_idx` ON `mydb`.`mk_idiomas` (`Mk_Traduccion_TraduccionId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_logtype`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_logtype` (
  `LogTypeId` INT NOT NULL AUTO_INCREMENT,
  `Name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`LogTypeId`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`mk_logs`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_logs` (
  `logsId` INT NOT NULL AUTO_INCREMENT,
  `descrption` VARCHAR(145) NULL DEFAULT NULL,
  `Mk_Users_UserID` INT NOT NULL,
  `postTime` DATE NULL DEFAULT NULL,
  `username` VARCHAR(50) NULL DEFAULT NULL,
  `Trace` VARCHAR(45) NULL DEFAULT NULL,
  `referenceId1` BIGINT NULL DEFAULT NULL,
  `referenceId2` BIGINT NULL DEFAULT NULL,
  `value1` VARCHAR(180) NULL DEFAULT NULL,
  `value2` VARCHAR(180) NULL DEFAULT NULL,
  `Checksum` INT NULL DEFAULT NULL,
  `Mk_logType_LogTypeId` INT NOT NULL,
  `Mk_Traduccion_TraduccionId` INT NOT NULL,
  PRIMARY KEY (`logsId`),
  CONSTRAINT `fk_Mk_logs_Mk_logType`
    FOREIGN KEY (`Mk_logType_LogTypeId`)
    REFERENCES `mydb`.`mk_logtype` (`LogTypeId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_logs_Mk_Traduccion`
    FOREIGN KEY (`Mk_Traduccion_TraduccionId`)
    REFERENCES `mydb`.`mk_traduccion` (`TraduccionId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_logs_Mk_Users`
    FOREIGN KEY (`Mk_Users_UserID`)
    REFERENCES `mydb`.`mk_users` (`UserID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_logs_Mk_Users1_idx` ON `mydb`.`mk_logs` (`Mk_Users_UserID` ASC) VISIBLE;

CREATE INDEX `fk_Mk_logs_Mk_logType1_idx` ON `mydb`.`mk_logs` (`Mk_logType_LogTypeId` ASC) VISIBLE;

CREATE INDEX `fk_Mk_logs_Mk_Traduccion1_idx` ON `mydb`.`mk_logs` (`Mk_Traduccion_TraduccionId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_logsecurity`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_logsecurity` (
  `LogSecurityId` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL DEFAULT NULL,
  `Mk_logs_logsId` INT NOT NULL,
  PRIMARY KEY (`LogSecurityId`),
  CONSTRAINT `fk_Mk_LogSecurity_Mk_logs`
    FOREIGN KEY (`Mk_logs_logsId`)
    REFERENCES `mydb`.`mk_logs` (`logsId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_LogSecurity_Mk_logs1_idx` ON `mydb`.`mk_logsecurity` (`Mk_logs_logsId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_logsources`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_logsources` (
  `LogSourcesId` INT NOT NULL,
  `name` VARCHAR(45) NULL DEFAULT NULL,
  `LogoURL` VARCHAR(200) NULL DEFAULT NULL,
  `Mk_logs_logsId` INT NOT NULL,
  PRIMARY KEY (`LogSourcesId`),
  CONSTRAINT `fk_Mk_LogSources_Mk_logs`
    FOREIGN KEY (`Mk_logs_logsId`)
    REFERENCES `mydb`.`mk_logs` (`logsId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_LogSources_Mk_logs1_idx` ON `mydb`.`mk_logsources` (`Mk_logs_logsId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_metodopago`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_metodopago` (
  `metodoPagoId` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL DEFAULT NULL,
  `ApiURL` VARCHAR(45) NULL DEFAULT NULL,
  `secretKey` VARCHAR(45) NULL DEFAULT NULL,
  `key` VARCHAR(45) NULL DEFAULT NULL,
  `LogoIconURL` VARCHAR(45) NULL DEFAULT NULL,
  `enabled` BIT(1) NULL DEFAULT NULL,
  `Mk_ContactInfoUser_contactInfoId` INT NOT NULL,
  PRIMARY KEY (`metodoPagoId`),
  CONSTRAINT `fk_Mk_metodoPago_Mk_ContactInfoUser`
    FOREIGN KEY (`Mk_ContactInfoUser_contactInfoId`)
    REFERENCES `mydb`.`mk_contactinfouser` (`contactInfoId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_metodoPago_Mk_ContactInfoUser1_idx` ON `mydb`.`mk_metodopago` (`Mk_ContactInfoUser_contactInfoId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_pagos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_pagos` (
  `PagoId` BIGINT NOT NULL AUTO_INCREMENT,
  `monto` INT NULL DEFAULT NULL,
  `montoActual` INT NULL DEFAULT NULL,
  `Currency` VARCHAR(45) NULL DEFAULT NULL,
  `auth` VARCHAR(45) NULL DEFAULT NULL,
  `referencia` VARCHAR(45) NULL DEFAULT NULL,
  `CahangeToken` VARCHAR(45) NULL DEFAULT NULL,
  `Mk_Pagoscol` VARCHAR(45) NULL DEFAULT NULL,
  `Description` VARCHAR(45) NULL DEFAULT NULL,
  `error` BIT(1) NULL DEFAULT NULL,
  `Fecha` DATE NULL DEFAULT NULL,
  `modulo` VARCHAR(45) NULL DEFAULT NULL,
  `Checksum` VARCHAR(45) NULL DEFAULT NULL,
  `Mk_metodoPago_metodoPagoId` INT NOT NULL,
  `Mk_Users_UserID` INT NOT NULL,
  PRIMARY KEY (`PagoId`),
  CONSTRAINT `fk_Mk_Pagos_Mk_metodoPago`
    FOREIGN KEY (`Mk_metodoPago_metodoPagoId`)
    REFERENCES `mydb`.`mk_metodopago` (`metodoPagoId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_Pagos_Mk_Users`
    FOREIGN KEY (`Mk_Users_UserID`)
    REFERENCES `mydb`.`mk_users` (`UserID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_Pagos_Mk_metodoPago1_idx` ON `mydb`.`mk_pagos` (`Mk_metodoPago_metodoPagoId` ASC) VISIBLE;

CREATE INDEX `fk_Mk_Pagos_Mk_Users1_idx` ON `mydb`.`mk_pagos` (`Mk_Users_UserID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_metodosdisponibles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_metodosdisponibles` (
  `MetodosDisponiblesId` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL DEFAULT NULL,
  `Token` VARCHAR(45) NULL DEFAULT NULL,
  `expTokenDate` DATE NULL DEFAULT NULL,
  `MaskAccount` VARCHAR(45) NULL DEFAULT NULL,
  `Mk_Users_UserID` INT NOT NULL,
  `Mk_metodoPago_metodoPagoId` INT NOT NULL,
  `Mk_Pagos_PagoId` BIGINT NOT NULL,
  PRIMARY KEY (`MetodosDisponiblesId`),
  CONSTRAINT `fk_Mk_MetodosDisponibles_Mk_metodoPago`
    FOREIGN KEY (`Mk_metodoPago_metodoPagoId`)
    REFERENCES `mydb`.`mk_metodopago` (`metodoPagoId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_MetodosDisponibles_Mk_Pagos`
    FOREIGN KEY (`Mk_Pagos_PagoId`)
    REFERENCES `mydb`.`mk_pagos` (`PagoId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_MetodosDisponibles_Mk_Users`
    FOREIGN KEY (`Mk_Users_UserID`)
    REFERENCES `mydb`.`mk_users` (`UserID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_MetodosDisponibles_Mk_Users1_idx` ON `mydb`.`mk_metodosdisponibles` (`Mk_Users_UserID` ASC) VISIBLE;

CREATE INDEX `fk_Mk_MetodosDisponibles_Mk_metodoPago1_idx` ON `mydb`.`mk_metodosdisponibles` (`Mk_metodoPago_metodoPagoId` ASC) VISIBLE;

CREATE INDEX `fk_Mk_MetodosDisponibles_Mk_Pagos1_idx` ON `mydb`.`mk_metodosdisponibles` (`Mk_Pagos_PagoId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_permisos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_permisos` (
  `MK_PermisosId` INT NOT NULL AUTO_INCREMENT,
  `Description` VARCHAR(120) NULL DEFAULT NULL,
  `Code` VARCHAR(45) NOT NULL,
  `PostTime` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`MK_PermisosId`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`mk_permisos_por_perfil`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_permisos_por_perfil` (
  `Permisos_por_perfiIdl` INT NOT NULL AUTO_INCREMENT,
  `postTime` DATE NULL DEFAULT NULL,
  `Deleted` BIT(1) NULL DEFAULT NULL,
  `MK_Permisos_MK_PermisosId` INT NOT NULL,
  PRIMARY KEY (`Permisos_por_perfiIdl`),
  CONSTRAINT `fk_Mk_Permisos_por_perfil_MK_Permisos`
    FOREIGN KEY (`MK_Permisos_MK_PermisosId`)
    REFERENCES `mydb`.`mk_permisos` (`MK_PermisosId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_Permisos_por_perfil_MK_Permisos1_idx` ON `mydb`.`mk_permisos_por_perfil` (`MK_Permisos_MK_PermisosId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_permisos_por_usuario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_permisos_por_usuario` (
  `Permiso_por_userID` INT NOT NULL,
  `PostTime` DATE NOT NULL,
  `deleted` BIT(1) NOT NULL,
  `MK_Permisos_MK_PermisosId` INT NOT NULL,
  `Mk_Users_UserID` INT NOT NULL,
  PRIMARY KEY (`Permiso_por_userID`),
  CONSTRAINT `fk_MK_Permisos_por_usuario_MK_Permisos`
    FOREIGN KEY (`MK_Permisos_MK_PermisosId`)
    REFERENCES `mydb`.`mk_permisos` (`MK_PermisosId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_MK_Permisos_por_usuario_Mk_Users`
    FOREIGN KEY (`Mk_Users_UserID`)
    REFERENCES `mydb`.`mk_users` (`UserID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_MK_Permisos_por_usuario_MK_Permisos_idx` ON `mydb`.`mk_permisos_por_usuario` (`MK_Permisos_MK_PermisosId` ASC) VISIBLE;

CREATE INDEX `fk_MK_Permisos_por_usuario_Mk_Users1_idx` ON `mydb`.`mk_permisos_por_usuario` (`Mk_Users_UserID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_personbalance`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_personbalance` (
  `PersonBalanceId` INT NOT NULL AUTO_INCREMENT,
  `Balance` INT NULL DEFAULT NULL,
  `LastBalance` INT NULL DEFAULT NULL,
  `LastUpdate` DATE NULL DEFAULT NULL,
  `Checksum` INT NULL DEFAULT NULL,
  `FreezAmount` INT NULL DEFAULT NULL,
  PRIMARY KEY (`PersonBalanceId`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`mk_roles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_roles` (
  `Mk_RolesId` INT NOT NULL AUTO_INCREMENT,
  `RoleName` VARCHAR(45) NOT NULL,
  `Deleted` BIT(1) NULL DEFAULT NULL,
  `PostTime` DATE NULL DEFAULT NULL,
  `Mk_Permisos_por_perfil_Permisos_por_perfiIdl` INT NOT NULL,
  PRIMARY KEY (`Mk_RolesId`),
  CONSTRAINT `fk_Mk_Roles_Mk_Permisos_por_perfil`
    FOREIGN KEY (`Mk_Permisos_por_perfil_Permisos_por_perfiIdl`)
    REFERENCES `mydb`.`mk_permisos_por_perfil` (`Permisos_por_perfiIdl`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_Roles_Mk_Permisos_por_perfil1_idx` ON `mydb`.`mk_roles` (`Mk_Permisos_por_perfil_Permisos_por_perfiIdl` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_transtype`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_transtype` (
  `TrnasTypeId` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`TrnasTypeId`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `mydb`.`mk_transacciones`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_transacciones` (
  `TransaccionesId` INT NOT NULL,
  `Amount` INT NULL DEFAULT NULL,
  `Description` VARCHAR(45) NULL DEFAULT NULL,
  `TransDate` DATE NULL DEFAULT NULL,
  `PostTime` DATE NULL DEFAULT NULL,
  `RefNumber` VARCHAR(45) NULL DEFAULT NULL,
  `Exchange_rate` VARCHAR(45) NULL DEFAULT NULL,
  `ChackSum` VARBINARY(10000) NULL DEFAULT NULL,
  `Mk_Pagos_PagoId` BIGINT NOT NULL,
  `Mk_PersonBalance_PersonBalanceId` INT NOT NULL,
  `Mk_TransType_TrnasTypeId` INT NOT NULL,
  `Mk_Fonds_FondosId` INT NOT NULL,
  PRIMARY KEY (`TransaccionesId`),
  CONSTRAINT `fk_Mk_Transacciones_Mk_Fonds`
    FOREIGN KEY (`Mk_Fonds_FondosId`)
    REFERENCES `mydb`.`mk_fonds` (`FondosId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_Transacciones_Mk_Pagos`
    FOREIGN KEY (`Mk_Pagos_PagoId`)
    REFERENCES `mydb`.`mk_pagos` (`PagoId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_Transacciones_Mk_PersonBalance`
    FOREIGN KEY (`Mk_PersonBalance_PersonBalanceId`)
    REFERENCES `mydb`.`mk_personbalance` (`PersonBalanceId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_Transacciones_Mk_TransType`
    FOREIGN KEY (`Mk_TransType_TrnasTypeId`)
    REFERENCES `mydb`.`mk_transtype` (`TrnasTypeId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_Transacciones_Mk_Pagos1_idx` ON `mydb`.`mk_transacciones` (`Mk_Pagos_PagoId` ASC) VISIBLE;

CREATE INDEX `fk_Mk_Transacciones_Mk_PersonBalance1_idx` ON `mydb`.`mk_transacciones` (`Mk_PersonBalance_PersonBalanceId` ASC) VISIBLE;

CREATE INDEX `fk_Mk_Transacciones_Mk_TransType1_idx` ON `mydb`.`mk_transacciones` (`Mk_TransType_TrnasTypeId` ASC) VISIBLE;

CREATE INDEX `fk_Mk_Transacciones_Mk_Fonds1_idx` ON `mydb`.`mk_transacciones` (`Mk_Fonds_FondosId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_transacciones_has_mk_users`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_transacciones_has_mk_users` (
  `Mk_Transacciones_TransaccionesId` INT NOT NULL,
  `Mk_Users_UserID` INT NOT NULL,
  PRIMARY KEY (`Mk_Transacciones_TransaccionesId`, `Mk_Users_UserID`),
  CONSTRAINT `fk_Mk_Transacciones_has_Mk_Users_Mk_Transacciones`
    FOREIGN KEY (`Mk_Transacciones_TransaccionesId`)
    REFERENCES `mydb`.`mk_transacciones` (`TransaccionesId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_Transacciones_has_Mk_Users_Mk_Users`
    FOREIGN KEY (`Mk_Users_UserID`)
    REFERENCES `mydb`.`mk_users` (`UserID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_Transacciones_has_Mk_Users_Mk_Users1_idx` ON `mydb`.`mk_transacciones_has_mk_users` (`Mk_Users_UserID` ASC) VISIBLE;

CREATE INDEX `fk_Mk_Transacciones_has_Mk_Users_Mk_Transacciones1_idx` ON `mydb`.`mk_transacciones_has_mk_users` (`Mk_Transacciones_TransaccionesId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `mydb`.`mk_useraddresses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mk_useraddresses` (
  `UserAddressId` INT NOT NULL AUTO_INCREMENT,
  `enabled` BIT(1) NULL DEFAULT NULL,
  `Mk_Address_AddressId` INT NOT NULL,
  `Mk_Users_UserID` INT NOT NULL,
  PRIMARY KEY (`UserAddressId`),
  CONSTRAINT `fk_Mk_UserAddresses_Mk_Address`
    FOREIGN KEY (`Mk_Address_AddressId`)
    REFERENCES `mydb`.`mk_address` (`AddressId`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Mk_UserAddresses_Mk_Users`
    FOREIGN KEY (`Mk_Users_UserID`)
    REFERENCES `mydb`.`mk_users` (`UserID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;

CREATE INDEX `fk_Mk_UserAddresses_Mk_Address1_idx` ON `mydb`.`mk_useraddresses` (`Mk_Address_AddressId` ASC) VISIBLE;

CREATE INDEX `fk_Mk_UserAddresses_Mk_Users1_idx` ON `mydb`.`mk_useraddresses` (`Mk_Users_UserID` ASC) VISIBLE;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
select *from mk_users;
insert into mk_users(UserID, email,FirstName,LastName)values

(1,'bryan','Bryan','marin');
insert into mk_users(UserID, email,FirstName,LastName)values
(2,'bryanm','Josue','marin');
insert into mk_users(UserID, email,FirstName,LastName)values
(3,'hectorgonzales@gmail.com','Hector','Gonzales');
insert into mk_users(UserID, email,FirstName,LastName)values
(4,'wendypadilla@gmail.com','Wendy','Montero');
insert into mk_users(UserID, email,FirstName,LastName)values
(5,'Cesar@gmail.com','cesar','Velverde');
insert into mk_users(UserID, email,FirstName,LastName)values
(6,'prijh@gmail.com','Priscila','Jiménez');
select *from mk_users;
select *from mk_permisos;
insert into mk_permisos(MK_PermisosId, Description, Code, PostTime)values
('1','tiene acceso a ver precios','064','2025-09-30');
insert into mk_permisos(MK_PermisosId, Description, Code, PostTime)values
('2','no tiene acceso a ver precios','06','2025-10-30');
insert into mk_permisos(MK_PermisosId, Description, Code, PostTime)values
('3','no tiene acceso a ver productos','056','2025-10-1');
insert into mk_permisos(MK_PermisosId, Description, Code, PostTime)values
('4','tiene acceso a ver produtcos','046','2025-09-30');
insert into mk_permisos(MK_PermisosId, Description, Code, PostTime)values
('5','tiene acceso a ver precios y comprar','076','2025-10-02');
insert into mk_permisos(MK_PermisosId, Description, Code, PostTime)values
('2','no tiene acceso a compra','060','2025-09-30');

select *from mk_permisos;
select * from mk_permisos_por_perfil;
insert into mk_permisos_por_perfil(Permisos_por_perfiIdl,postTime,Deleted,MK_Permisos_MK_PermisosId)values
('1','2025-10-02',0,'2');
insert into mk_permisos_por_perfil(Permisos_por_perfiIdl,postTime,Deleted,MK_Permisos_MK_PermisosId)values
('2','2025-10-02',0,'1');
insert into mk_permisos_por_perfil(Permisos_por_perfiIdl,postTime,Deleted,MK_Permisos_MK_PermisosId)values
('3','2025-10-12',1,'3');
insert into mk_permisos_por_perfil(Permisos_por_perfiIdl,postTime,Deleted,MK_Permisos_MK_PermisosId)values
('4','2025-10-22',1,'2');
insert into mk_permisos_por_perfil(Permisos_por_perfiIdl,postTime,Deleted,MK_Permisos_MK_PermisosId)values
('5','2025-11-02',0,'2');
select *from mk_permisos_por_perfil;
select * from mk_countries;
insert into mk_countries(CountriesId, Name, currencySimbol, language, curency,Mk_Estados_EstadosId)values
('1','Costa Rica','cr','español','cr','1');
insert into mk_countries(CountriesId, Name, currencySimbol, language, curency,Mk_Estados_EstadosId)values
('2','Nicaragua','ni','español','ni','2');
insert into mk_countries(CountriesId, Name, currencySimbol, language, curency,Mk_Estados_EstadosId)values
('3','España','esp','español','esp','4');
insert into mk_countries(CountriesId, Name, currencySimbol, language, curency,Mk_Estados_EstadosId)values
('4','Estados Unidos','Eu','eu','Eu','3');
insert into mk_countries(CountriesId, Name, currencySimbol, language, curency,Mk_Estados_EstadosId)values
('5','Egipto','arabe','eg','4');
insert into mk_countries(CountriesId, Name, currencySimbol, language, curency,Mk_Estados_EstadosId)values
('6','Russia','rus','ruso','rus','5');
select * from mk_countries;
select * from mk_estados;
insert into mk_estados(EstadosId, Name, Mk_Cities_CitiesId
)values
('1','san jose','1');
insert into mk_estados(EstadosId, Name, Mk_Cities_CitiesId
)values
('2','Guanacaste','1');
insert into mk_estados(EstadosId, Name, Mk_Cities_CitiesId
)values
('3','Limon','3');
insert into mk_estados(EstadosId, Name, Mk_Cities_CitiesId
)values
('4','Heredia','2');
insert into mk_estados(EstadosId, Name, Mk_Cities_CitiesId
)values
('5','Puntarenas','3');
insert into mk_estados(EstadosId, Name, Mk_Cities_CitiesId
)values
('6','Cartago','4');
select *from mk_estados;

select * from mk_cities;
insert into mk_cities(CitiesId,name,Mk_Address_AddressID)values
('1','Desamparados','1');
insert into mk_cities(CitiesId,name,Mk_Address_AddressID)values
('2','San Rafael','2');
insert into mk_cities(CitiesId,name,Mk_Address_AddressID)values
('3','Tibas','1');
insert into mk_cities(CitiesId,name,Mk_Address_AddressID)values
('4','Aserrí','3');
insert into mk_cities(CitiesId,name,Mk_Address_AddressID)values
('5','San Miguel','2');
select * from (mk_cities);
select * from mk_address;
insert into mk_address (AddressId, Name)values
('1','Quebrada Honda');
insert into mk_address (AddressId, Name)values
('2','Guadarrama');
insert into mk_address (AddressId, Name)values
('3','El Rosario');
insert into mk_address (AddressId, Name)values
('4','La fila');
insert into mk_address (AddressId, Name)values
('5','Rio Conejo');
select * from mk_address;
